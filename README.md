# Git Switch

Cross-platform electron app for managing git users while pair/mob programming


## Installation

* You will find deployables for each of the 3 major platforms [here](https://github.com/pluralsight/git-switch-electron/releases).
* Install git-switch for your platform and run it.
* You should see a new tray item with the git-switch icon.
* Add your git repos and pair/mob users.
* Enjoy!


## How it works


### Co-Authors

Git Switch adds a post commit hook to the git repositories you specify.

You select the users to add to your pair/mob, and commit changes to your code.

With each commit, the git-switch commit hook amends the commit to designate the author separate from the co-author(s).

Once each commit is complete, git-switch will automatically rotate users in your pair/mob, so the next user will be the author on the next commit.


### Identities

Git Switch will modify your ssh config (`~/.ssh/config`) to specify the current author's identity file (RSA key).

By default, it does this for the `github.com` host.

If you use a different host for your repository, you can provide the `SSH Host` value, in the add/edit user form, that your identity file was issued for.


## CLI usage

In addition to managing users and repositories in the electron client app, git-switch can also be used as a CLI i.e.

```
git-switch users add --name "<User Name>" --email "<user@email.com>"
git-switch repos list
```

_**Note**: You will need to ensure `git-switch` is in your `PATH`_. On MacOS it might look like this: `sudo ln -s /Applications/git-switch.app/Contents/MacOS/git-switch /usr/local/bin/git-switch`

The available command structure is:

```
git-switch
  users
    add (new)
    edit (up, update)
    remove (rm)
    list (ls)
    rotate (ro)
    toggle (to)
  repos
    add (new)
    remove (rm)
    list (ls)
  show
  quit
```

Running `-h` or `--help` on any command/sub-command will provide usage information


## Development

To run git-switch from source, run the following command:
```
npm run build
npm run start
```

To launch the electron app with the chrome dev tools open by default, simply run:
```
npm run start:dev
```


## Publishing a release

1. Increment the version in `package.json` (Appropriately following [SemVer](https://semver.org/))
1. Tag the commit with `git tag <semver>`
   - _Do not include a leading `v` in the tag name_
   - ❌ v1.1.1
   - ✅ 1.1.1
1. Push the tag to github `git push --tags`
1. A release will be automatically generated by this [github action](https://github.com/pluralsight/git-switch-electron/actions?query=workflow%3A%22Create+release%22)
1. Add notes/changelog to the newly created release
